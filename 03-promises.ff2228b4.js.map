{"mappings":"qhBAAA,IAAAA,EAAAC,EAAA,SASgC,MAA1BC,EAASC,SAASC,cAAc,SAChCC,EAAeF,SAASC,cAAc,uBACtCE,EAAcH,SAASC,cAAc,sBACrCG,EAAgBJ,SAASC,cAAc,wBAC7C,IAAII,EAAQ,KACRC,EAAO,KACPC,EAAS,KA2Cb,SAASC,EAAcC,EAAUC,GAE/B,OAAO,IAAIC,SAAQ,CAACC,EAASC,KAC3B,MAAMC,EAAgBC,KAAKC,SAAW,GAEtCC,YAAW,KACLH,GACFF,EAAQ,C,SAAEH,EAAUS,MAAAR,IAGtBG,EAAO,C,SAAEJ,EAAUS,MAAAR,GAAQ,GAC1BA,EAAM,G,CAbbX,EAAOoB,iBAAiB,UAtCxB,SAAsBC,GAae,GAXdA,EAAfC,iBAGgBhB,EAAdiB,OAAOpB,EAAaqB,OAC5BjB,EAAOgB,OAAOnB,EAAYoB,OAC1BhB,EAASe,OAAOlB,EAAcmB,OAM1BlB,EAAQ,GAAKC,EAAO,GAAKC,GAAU,EACrCiB,EAAA3B,GAAS4B,OAAOC,QAAQ,oCADS,CAMR,IAAtB,IAAIC,EAAI,EAAGA,GAAKpB,EAAQoB,GAAK,EAAG,CAGnCnB,EADemB,EACStB,GAEOuB,MAAvB,EAACnB,SAAEA,EAAUS,MAAAW,MACjBL,EAAA3B,GAAS4B,OAAOK,QAAQ,qBAAqBrB,QAAeoB,MAAU,IAG3CE,OAAtB,EAACtB,SAAEA,EAAUS,MAAAc,MAClBR,EAAA3B,GAAS4B,OAAOC,QAAQ,oBAAoBjB,QAAeuB,MAAU,IAG7D3B,GAAHC,C,CAGCP,EAALkC,O","sources":["src/js/03-promises.js"],"sourcesContent":["import Notiflix from \"notiflix\";\nimport 'notiflix/dist/notiflix-3.2.6.min.css'\n\n\n//Напиши скрипт, який на момент сабміту форми викликає функцію \n//createPromise(position, delay) стільки разів, скільки ввели в \n//поле amount.Під час кожного виклику передай їй номер промісу\n//(position), що створюється, і затримку, враховуючи першу \n//затримку(delay), введену користувачем, і крок(step).\nconst formEl = document.querySelector(\".form\");\nconst dilayInputEl = document.querySelector('input[name=\"delay\"]');\nconst stepInputEl = document.querySelector('input[name=\"step\"]');\nconst amountInputEl = document.querySelector('input[name=\"amount\"]');\nlet dilay = null;\nlet step = null;\nlet amount = null;\n// console.log(formEl);\n\nfunction onFormSubmit(event) {\n  //заборонив перезагрузку\n  event.preventDefault();\n\n  //знайшов введені значення\n  dilay = Number(dilayInputEl.value); \n  step = Number(stepInputEl.value); \n  amount = Number(amountInputEl.value); \n  // console.log(dilay);\n  // console.log(step);\n  // console.log(amount);\n\n  //перевіряю на введення некоректних даних\n  if (dilay < 0 || step < 0 || amount <= 0) {\n    Notiflix.Notify.failure(`Please enter a correct value`);\n    return;\n  }\n\n  //роблю цикл який створює проміси\n  for (let i = 1; i <= amount; i += 1) {\n    //початкова позиція 1\n    let position = i;\n    createPromise(position, dilay)\n      //обробка позитивного результату\n      .then(({ position, dilay }) => {\n        Notiflix.Notify.success(`Fulfilled promise ${position} in ${dilay}ms`);\n      })\n      //обробка негативного результату\n      .catch(({ position, dilay }) => {\n        Notiflix.Notify.failure(`Rejected promise ${position} in ${dilay}ms`);\n      });\n    //оновлюю ділей\n    dilay += step;\n  }\n  //очистка форми\n  formEl.reset();\n}\n\nformEl.addEventListener(\"submit\", onFormSubmit);\n\nfunction createPromise(position, dilay) {\n  //функція повертає проміс\n  return new Promise((resolve, reject) => {\n    const shouldResolve = Math.random() > 0.3;\n\n    setTimeout(() => {\n      if (shouldResolve) {\n        resolve({ position, dilay });\n      }\n\n      reject({ position, dilay });\n    }, dilay);\n  });\n}\n"],"names":["$7Y9D8","parcelRequire","$47d4ff9957288465$var$formEl","document","querySelector","$47d4ff9957288465$var$dilayInputEl","$47d4ff9957288465$var$stepInputEl","$47d4ff9957288465$var$amountInputEl","$47d4ff9957288465$var$dilay","$47d4ff9957288465$var$step","$47d4ff9957288465$var$amount","$47d4ff9957288465$var$createPromise","position","dilay3","Promise","resolve","reject","shouldResolve","Math","random","setTimeout","dilay","addEventListener","event","preventDefault","Number","value","$parcel$interopDefault","Notify","failure","i","then","dilay1","success","catch","dilay2","reset"],"version":3,"file":"03-promises.ff2228b4.js.map"}